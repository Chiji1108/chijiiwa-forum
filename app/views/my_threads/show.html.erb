<p id="notice"><%= notice %></p>

<div class='card'>
<% if @my_thread.thumbnail.attached? %>
<%= image_tag @my_thread.thumbnail, class: 'card-img-top', style: 'height: 180px; object-fit: cover;'%>
<% else %>
<svg class="card-img-top" style='font-size: 1.125rem; text-anchor: middle;' width="100%" height="180"
  xmlns="http://www.w3.org/2000/svg" preserveAspectRatio="xMidYMid slice" focusable="false" role="img"
  aria-label="Placeholder: No Image">
  <title>Placeholder</title>
  <rect width="100%" height="100%" fill="#868e96" /><text x="50%" y="50%" fill="#dee2e6" dy=".3em">No
    Image</text>
</svg>
<% end %>
<div class="card-body">
  <h5 class="card-title"><%= @my_thread.title %></h5>
  <p class="card-text"><%= @my_thread.description %></p>
</div>
<div class="card-footer d-flex p-2" style='line-height: 1;'>
  <% if @my_thread.user.avatar.attached? %>
  <%= image_tag @my_thread.user.avatar, class: 'avatar'%>
  <% else %>
  <%= image_tag 'default-avatar.png', class: 'avatar'%>
  <% end %>
  <div class='ml-2'>
    <p class='mb-0'><%= @my_thread.user.username %></p>
    <small class="text-muted"><%= l @my_thread.updated_at, format: :short %></small>
  </div>
</div>
</div>

<%# <%= link_to 'Edit', edit_my_thread_path(@my_thread) %>

<h3 class="mt-4">ポスト一覧</h3>
<ul class="list-group">
<% @posts.each do |post| %>
  <li class="list-group-item">
    <div class="d-flex justify-content-between align-items-center mb-2">
      <div>
        <% if post.user.avatar.attached? %>
        <%= image_tag post.user.avatar, class: 'avatar'%>
        <% else %>
        <%= image_tag 'default-avatar.png', class: 'avatar'%>
        <% end %>
        <%= post.user.username %>
      </div>
      <div>
        <%= l post.updated_at, format: :short %>
      </div>
    </div>
    <%= post.content %>
  </li>
<% end %>
</ul>
<%= link_to '新規ポスト作成', new_my_thread_post_path(@my_thread), class: 'mb-4' %>

<%# <%= link_to 'Back', my_threads_path %>
